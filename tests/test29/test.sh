#! /usr/bin/env bash

echo "-----------------------------------------"
echo "         Test integration                "
echo "-----------------------------------------"
echo "Test empty set a0.csv"
echo "Action: Press i to integrate"
echo "Expect: empty"
koviz a0.csv -a 
echo ""
echo "Test single point a1.csv"
echo "Action: Press i to integrate"
echo "Expect: single point (0,0)"
koviz a1.csv -a 
echo ""
echo "Test two points a2.csv"
echo "Action: Press i to integrate"
echo "Expect: (0,0), (1,2)"
koviz a2.csv -a
echo ""
echo "Test three points a3.csv"
echo "Action: Press i to integrate"
echo "Expect: (0,0),(1,2),(2,7)"
koviz a3.csv -a
echo ""
echo "Test ten points a10.csv"
echo "Action: Press i to integrate"
echo "Expect: (0,0),(1,0.5),(2,2.0),(3,4.5),"
echo "        (4,8.0),(5,12.5),(6,18.0),(7,24.5),"
echo "        (8,32.0),(9,40.5)"
koviz a10.csv -a
echo ""
echo "Test derivatives and integration of velocity"
echo ""
echo "Time   Jerk     Acc     Vel     Pos     Absement"
echo "0.0     6.0     0.0     7.0     0.0         0.00"
echo "1.0     6.0     6.0     10.0    8.5         4.25"
echo "2.0     6.0     12.0    19.0    23.0       20.00"
echo "3.0     6.0     18.0    34.0    49.5       56.25"
echo "4.0     6.0     24.0    55.0    94.0      128.00"
echo ""
echo "Action1: Select velocity and then Press i to integrate"
echo "Expect1: {m} {(0,0),(1,8.5),(2,23),(3,49.5),(4,94)}"
echo ""
echo "Action2: Press i again"
echo "Expect2: {m*s} {(0,0),(1,4.25),(2,20),(3,56.25),(4,128)}"
echo ""
echo "Action3: Press 'd' 3 times"
echo "Expect3: {m/s2} {(0,0),(1,6),(2,12),(3,18),(4,24)}"
echo ""
echo "Action4: Press 'd'"
echo "Expect4: {m/s3} {(0,6),(1,6),(2,6),(3,6),(4,6)}"
koviz javpa.csv

echo ""
echo "Test integration with scale/bias/start/stop and xy unit scaling"
echo ""
echo "Action1: Press i to integrate"
echo "Expect1: {--} {(0,0),(1,~8.5),(2,~23),(3,~49.5),(4,~94)}"
echo ""
echo "Action2: Press i again"
echo "Expect2: {m*s} {(0,0),(1,~4.25),(2,~20),(3,~56.25),(4,~128)}"
echo ""
echo "Action3: Press 'd' 3 times"
echo "Expect3: {m/s2} {(0,~0),(1,~6),(2,~12),(3,~18),(4,~24)}"
echo ""
echo "Action4: Press 'd'"
echo "Expect4: {m/s3} {(0,~6),(1,~6),(2,~6),(3,~6),(4,~6)}"
echo "              Line will not be flat due to round off"
koviz DP_test3 temperature.csv -start 0 -stop 4 -shift -14
